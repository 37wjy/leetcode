考题73

题目描述

你有一个长度为 n 的整数序列，现在你需要选出两段不相交的连续子序列，使得两个子序列的所有元素之和最大。

形式化地，给定序列 {ai}ni=1，请选择适当的 [l1,r1],[l2,r2]⊂[1,n]，使得下式的值最大：

$ S= \sum^{r1} _{i=l1} a_i+\sum^{r2} _{i=l2} a_i $

其中，需要满足 [l1,r1]∩[l2,r2]=∅。区间可为空，对应的和等于 0。

输入格式
从标准输入读入数据。

输入第一行为一个正整数 n，表示序列的长度。接下来一行为 n 个整数，以空格分隔，第 i 个数为 ai。

输出格式
输出到标准输出。

输出一行一个整数，表示所求最大值。

样例1输入

    5
    1 1 -1 2 2
样例1输出
  
    6
样例1解释

显然所选的区间应为 [1,2],[4,5]。

样例2
[点此](https://dsa.cs.tsinghua.edu.cn/oj/attachment/afa3/afa3c37d201d32fd6bfd694002325eaca8805bbb.zip)下载。

数据规模及约定
对于 30% 的数据，n≤100；

对于 60% 的数据，n≤3000；

对于 100% 的数据，n≤100000,|ai|≤100000。

时间限制：2s

空间限制：512MB

提示
为了帮助大家完成题目，我们提供了只包含了输入输出功能的程序模板。

你可以根据自己的实际情况，在这些程序的基础上进行作答，或不参考这些程序，这将与你的得分无关。

这些程序可以从[这里](https://dsa.cs.tsinghua.edu.cn/oj/attachment/624e/624ebb4b1c7809bf148f529c10f5a7994a062a17.zip)下载。